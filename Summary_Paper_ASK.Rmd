---
title: "L.A. Crime Scene Investigation: Data-Driven Detectives"
author: "TEAM 6 - Abhinaysai Kamineni,
          Lasya Raghavendra,
          Neeraj Magadum,
          Aakash Hariharan, 
          Amogh Ramagiri"
date: "Nov 3"
output:
  html_document:
    code_folding: hide
    number_sections: false
    toc: yes
    toc_depth: 3
    toc_float: yes
    theme: united
  pdf_document:
    toc: yes
    toc_depth: '3'
---
# ABSTRACT

The city of Los Angeles faces ongoing challenges in understanding and addressing the complexity of crime across its diverse neighborhoods. With thousands of recorded incidents varying by crime type, victim demographics, location, and modus operandi, law enforcement and city officials require deeper insights into the patterns and factors driving crime in specific areas.

The dataset includes detailed information on reported crimes such as crime codes, descriptions, victim age, sex, and descent, as well as crime locations, types of weapons used, and case statuses. However, identifying meaningful trends and correlations—such as how crime types vary by location, how victim demographics relate to specific crimes, and how different weapons are used in different crimes—remains a critical challenge.

Focus on Crime Analysis in Los Angeles from 2020 to present using a dataset containing detailed information on crime incidents.


# INTRODUCTION

The dataset includes detailed information on reported crimes from 2020 to the present, with approximately 950,000 rows and 28 columns. Key details include:
  1. Crime types
  2. Locations
  3. Dates
  4. Demographic data of involved individuals. etc

The dataset includes detailed fields such as crime status (whether the case is open, under investigation, or closed), types of weapons used, and multiple crime codes for incidents involving more than one criminal offense. This allows for deeper analysis of crime severity and resolution rates.

# Information about the dataset(s) you used. #

This dataset, obtained from the official data.gov website, details crime incidents in the City of Los Angeles from January 1, 2020, to October 31, 2024. It is a real-time dataset that receives updates every two weeks and consists of 28 columns and 986,501 rows. Key Components of the dataset include: 
   1.	Geographic Areas: The LAPD is divided into 21 community police stations, referred to as Geographic Areas, each            with a unique identifier and name based on local landmarks.
   2.	Crime Information/ Codes: Each incident includes multiple crime codes (up to four), indicating the type of crime              committed and additional crimes committed.
   3.	Crime Descriptions: Corresponding descriptions for each crime code are provided for clarity.
   4.	Incident Details:
        Dates: The dataset records both the occurrence date and the reporting date of each crime.
        Case Number: Each incident is assigned a unique Division of Records Number (DR_NO).
        Location Data: Each incident includes the approximate location (latitude and longitude), cross streets, and a           rounded address for anonymity.
   5.	Victim Information:
        Age: Numeric representation of the victim's age.
        Descent: Coded descriptions of the victim's descent.
        Sex: Information indicating the victim's gender.
   6.	Weapon Information: Details on the weapon used in the crime, including a description and corresponding code.
   7.	Status: Each incident is classified with a status code to indicate the case's current standing.
   
```{r q04, echo=T, results='markup'}
crime = read.csv("/Users/aakashh/Downloads/Crime_Data_from_2020_to_Present.csv")

new_crime <- crime[, colSums(is.na(crime)) == 0]

```
# Limitations of the dataset(s). What additional information would have been helpful? #

The data is originally transcribed from paper crime reports, which may introduce some inaccuracies. Additionally, address fields are rounded to the nearest hundred block to maintain privacy. There are also a significant number of null values, especially in columns related to weapon names and descriptions, which will need to be addressed. Furthermore, including the reporting mechanisms in the dataset for each crime incident could facilitate more detailed analyses regarding geographical variations and resource allocation in those areas.


## Feature Selection based on Smart Questions
```{r}
cols_to_remove <- c(
   "Mocodes", "Rpt.Dist.No", "Part.1.2", 
  "Premis_cd","Premis.Desc", "Status", "Status.Desc","Cross.Street"
)
# Drop the specified columns
crime_data <- new_crime[, !(names(new_crime) %in% cols_to_remove)]


print("Data after removing unnecessary columns:")
print(names(crime_data))

```


# SMART Q1 - How have the top three most common crimes from 2020 to the present been distributed across the top five areas where they are most frequently committed in Los Angeles, and are these trends increasing or decreasing in each area from 2020 to 2024? 

## 1. Top 3 Crimes and Top 5 Areas 
```{r setup, include=FALSE}

library(dplyr)
library(ggplot2)
library(lubridate)

crime_data$DATE.OCC <- as.Date(crime_data$DATE.OCC, format = "%m/%d/%Y")

# Identify top 3 crimes overall from 2020 to present
top_crimes <- crime_data %>%
  filter(year(DATE.OCC) >= 2020 & year(DATE.OCC) <= 2023) %>%
  group_by(Crm.Cd, Crm.Cd.Desc) %>%
  summarise(count = n()) %>%
  arrange(desc(count)) %>%
  head(3)

# Identify top 5 areas based on crime frequency
top_areas <- crime_data %>%
  filter(year(DATE.OCC) >= 2020) %>%
  group_by(AREA.NAME) %>%
  summarise(total_crime = n(), top3_crime = sum(Crm.Cd %in% top_crimes$Crm.Cd)) %>%
  arrange(desc(top3_crime)) %>%
  head(5)
```



# SMART Q3 - How does the type or frequency of crimes in Los Angeles vary by victim descent, and are there significant geographic patterns (based on latitude and longitude) associated with specific victim groups?

Analysing the SMART Question, it considers the parameters which consists of Specific identifies mainly three main variables to analyze which includes crime types, victim descent demographics, and geographic locations (longtitude and latitude). Measuring through quantitative analysis of crime frequencies, statistical testing of geographic patterns, and demographic distribution calculations. Considering the geographic data it is Achievable which contains all necessary data points including crime classifications, victim descent information, and geographic coordinates (latitude/longitude), making it possible to conduct comprehensive analysis. The data is quite Relevant in its potential applications for law enforcement resource allocation, policy development, and community safety planning, addressing crucial aspects of public safety and social equity. Calculating the Time-bound levels the analysis can be naturally constrained by the dataset's temporal range and can be segmented into various time periods for trend analysis, making it flexible yet definable.

##Exploratory Data Analysis
```{r}
library(dplyr)
names(crime_data)
crime_frequency <- crime_data %>%
summarise(Frequency = n()) %>%
arrange(desc(Frequency))
```

Examining the Los Angeles Crime Dataset revealing the relationship between crime frequencies, victim descent, and geographic locations via variables like victim demographics, spatial coordinates, and crime classifications. 
This statistical explanation will make understand the patterns of investigation of crime patterns across demographic and spatial dimensions.

##Understanding through Plotting and Data Visualization.

##Plot 1: - Barplot
```{r}
crime_data %>%
  group_by(Vict.Descent) %>%
  summarise(Frequency = n()) %>%
  ggplot(aes(x = Vict.Descent, y = Frequency, fill = Vict.Descent)) +
  geom_bar(stat = "identity") +
  labs(title = "Total Crimes by Victim Descent", x = "Victim Descent", y = "Frequency") +
  theme_minimal()
```
The bar chart reveals that Hispanic (H) victims represent the highest frequency with approximately 300,000 reported crimes. Black (B) victims and unreported/unknown descent (-) categories both show similar frequencies of about 150,000 cases. The data suggests a disproportionate impact of crime on Hispanic communities in Los Angeles, while other descent categories (A, C, D, F, G, I, J, K, L, O, P, S, U, V, X, Z) show notably lower frequencies of reported crimes. 

These patterns may indicate underlying socioeconomic factors, reporting tendencies, or demographic distribution within Los Angeles that merit further investigation for effective law enforcement resource allocation and community safety initiatives.

##Plot 2: - Heat Map
```{r}
crime_data$Time_Period <- cut(crime_data$TIME.OCC, 
                              breaks = c(0, 600, 1200, 1800, 2400), 
                              labels = c("Night", "Morning", "Afternoon", "Evening"))

crime_data %>%
  group_by(Vict.Descent, Time_Period) %>%
  summarise(Frequency = n()) %>%
  ggplot(aes(x = Vict.Descent, y = Time_Period, fill = Frequency)) +
  geom_tile(color = "white") +
  scale_fill_gradient(low = "lightblue", high = "darkblue") +
  labs(title = "Crime Frequency by Victim Descent and Time of Day", x = "Victim Descent", y = "Time of Day") +
  theme_minimal()
```
Heatmap visualization show that higher crime rates during evening hours, particularly affecting Hispanic (H)populations, with a similar but slightly lower pattern during afternoon periods. The morning and night periods show relatively lower crime frequencies across most descent categories, though certain demographic groups (particularly H and W) maintain elevated rates. The visualization also reveals that some descent categories (like A, C, D, F, G, I, J, K, L, O, P, S, U, V, X, Z) consistently show lower crime frequencies regardless of the time of day, suggesting possible demographic or reporting pattern variations.

##Statistical Tests and further Inferences.
## Corrleation Matrix-1
```{r}
library(dplyr)
library(tidyr)
unique_values <- unique(crime_data$Vict.Descent)
print(unique_values)
relevant_data <- crime_data %>%
  select(LON, LAT, Vict.Descent)
relevant_data$Vict.Descent <- as.factor(relevant_data$Vict.Descent)
dummy_data <- model.matrix(~ Vict.Descent - 1, data = relevant_data)
combined_data <- cbind(relevant_data[, c("LON", "LAT")], dummy_data)
cor_matrix <- cor(combined_data, use = "pairwise.complete.obs")
head(cor_matrix)
```
This results reveal that there is potential geographic patterns in crime distribution across different demographic groups in Los Angeles, which is useful but not able to able to find exact coorelation to the spatial relationships in crime patterns by victim descent.

## ANOVA Testing
```{r}
# ANOVA for Longitude
anova_lon <- aov(LON ~ Vict.Descent, data = crime_data)
summary(anova_lon)

# ANOVA for Latitude
anova_lat <- aov(LAT ~ Vict.Descent, data = crime_data)
summary(anova_lat)
```
This ANOVA numbers in statistical analysis made in understanding and considering notable patterns at various levels based on the Longtitude and Latitude levels which correlated to no significant reslationship with regards to Victim Descent.

## Conclusion of SMART Question3: - 
Based on the comprehensive analysis using ANOVA, correlation matrices, and visualizations:

Geographic Distribution:
- ANOVA results indicate statistically notable differences in both latitude and longitude distributions across victim descent groups but not significant spatial patterns to validate the correlation.

Demographic Patterns:
- Highest victimization rates observed in Hispanic (H) communities (~300,000 cases)
- Black (B) and unreported (-) categories show similar frequencies (~150,000 cases)
- Time-based patterns show higher crime rates during evening hours, particularly affecting Hispanic and White populations

Spatial Clustering:
- Different victim descent groups show distinct geographic concentrations
- Significant variations in crime patterns across LA's geographic spread (north-south areas)
